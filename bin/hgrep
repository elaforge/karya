#!/usr/bin/env zsh
# Grep through Haksell.

if [[ -d $1 ]]; then
    dir=$1
    shift
else
    dir=.
fi

if which rg >/dev/null; then
    rg -n --type haskell "$@" $dir
else
    grep -n "$@" $dir/**/*.hs*
fi
